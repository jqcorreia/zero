external "c" {
    fn printf(format: str, ...) -> i32
}

// Main function must be defined, otherwise it errs
fn main() -> i32 {
    s := "This is a basic testing program\n"
    printf(s)
    printf("%d\n", func()) // Should print "1 3 5" and "6"
    printf("%d\n", fib(10)) // Should print "55"

    x: u8 = 5
    y: u8 = 10
    param_test(x, y) // Should print "15"
    return 0
}

// Different parameter types and return values
fn param_test(x: u8, y: u8) -> u8 {
    return x + y
}

// This is a simple test of function definition and recursion
// Also tests if/then/else statements and variable scope
fn fib(n: i32) -> i32 {
    if n <= 1 {
        return n
    } else {
        return fib(n - 1) + fib(n - 2)
    }
    return 0
}

// Basic loop, variable mutation and break statement
fn func() -> i32 {
    a: i32 = 1

    for {
        printf("%d\n", a)
        a = a + 1
        if a > 5 {
            break
        } else {
            a = a + 1
        }
    }

    return a
}

